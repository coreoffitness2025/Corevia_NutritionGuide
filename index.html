<!DOCTYPE html>
<html lang="ko">
<head>
  <meta charset="UTF-8">
  <!-- ê²€ìƒ‰ ë…¸ì¶œì„ ë§‰ìœ¼ë ¤ë©´ -->
  <meta name="robots" content="noindex, nofollow">

  <meta name="viewport" content="width=device-width, initial-scale=1.0">
  <title>Core of Fitness ì¹¼ë¡œë¦¬ ê³„ì‚°ê¸° (ì˜ˆì‹œ ì‹ë‹¨ ì¡°í•© ê¸°ëŠ¥)</title>
  <style>
    body {
      font-family: sans-serif;
      max-width: 900px;
      margin: auto;
      padding: 20px;
      line-height: 1.6;
    }
    .brand-header {
      text-align: center;
      margin-bottom: 20px;
    }
    .brand-header img {
      max-width: 120px;
      margin-bottom: 8px;
    }
    label {
      display: block;
      margin-top: 12px;
      font-weight: bold;
    }
    input, select {
      width: 100%;
      padding: 8px;
      margin-top: 4px;
    }
    button {
      margin-top: 20px;
      padding: 10px;
      width: 100%;
      font-size: 16px;
      font-weight: bold;
      cursor: pointer;
    }
    .result {
      margin-top: 24px;
      padding: 16px;
      background: #f4f4f4;
      border-radius: 8px;
    }
    h2 {
      margin-top: 0;
    }
    ul {
      margin-top: 0;
      padding-left: 20px;
    }
    .notice {
      margin-top: 20px;
      font-size: 13px;
      color: #666;
    }
    .example-meal {
      margin-top: 20px;
      padding: 16px;
      background: #fafafa;
      border: 1px solid #ddd;
      border-radius: 8px;
    }
    .example-meal p {
      margin: 6px 0;
    }
  </style>
</head>
<body>
  <div class="brand-header">
    <img src="https://via.placeholder.com/120x60.png?text=Brand+Logo" alt="Core of Fitness ë¡œê³ ">
    <h1>Core of Fitness ì¹¼ë¡œë¦¬ ê³„ì‚°ê¸°</h1>
  </div>

  <!-- ì…ë ¥ í¼ -->
  <label>ì„±ë³„:
    <select id="gender">
      <option value="male">ë‚¨ì„±</option>
      <option value="female">ì—¬ì„±</option>
    </select>
  </label>

  <label>ë‚˜ì´ (ì„¸):
    <input type="number" id="age" placeholder="ì˜ˆ: 30">
  </label>

  <label>ì‹ ì¥ (cm):
    <input type="number" id="height" placeholder="ì˜ˆ: 170">
  </label>

  <label>ì²´ì¤‘ (kg):
    <input type="number" id="weight" placeholder="ì˜ˆ: 65">
  </label>

  <label>í™œë™ì§€ìˆ˜:
    <select id="activity">
      <option value="1.2">ë§¤ìš° ë‚®ìŒ</option>
      <option value="1.375">ê°€ë²¼ìš´ í™œë™</option>
      <option value="1.55">ë³´í†µ í™œë™</option>
      <option value="1.725">ë†’ì€ í™œë™</option>
    </select>
  </label>

  <button onclick="calculate()">ğŸ”¥ ê³„ì‚°í•˜ê¸°</button>

  <!-- ê²°ê³¼ ì˜ì—­ -->
  <div class="result" id="result"></div>

  <div class="notice">
    â€» ì´ í˜ì´ì§€ëŠ” ì˜ˆì‹œìš©ìœ¼ë¡œ, ì‹¤ì œ ê¶Œì¥ ì‹ë‹¨ì€ ê°œì¸ ëª©í‘œì™€ ê±´ê°•ìƒíƒœì— ë”°ë¼ ë‹¬ë¼ì§‘ë‹ˆë‹¤.<br>
    â€» ë¬´ë‹¨ ë³µì œÂ·ë°°í¬ë¥¼ ì‚¼ê°€ ì£¼ì„¸ìš”.
  </div>

  <script>
    // (1) ì‹ì¬ë£Œ ì •ë³´ë¥¼ ê°ì²´ í˜•íƒœë¡œ êµ¬ì„± (100g ê¸°ì¤€ ë‹¨/íƒ„/ì§€)
    const PROTEIN_SOURCES = [
      { name: "ë¼ì§€ ë’·ë‹¤ë¦¬ì‚´", protein: 21, carbs: 0, fat: 8 },
      { name: "ë¼ì§€ ì•ˆì‹¬", protein: 22, carbs: 0, fat: 5 },
      { name: "ë‹­ê°€ìŠ´ì‚´", protein: 23, carbs: 0, fat: 2 },
      { name: "ë‹­ì•ˆì‹¬", protein: 22, carbs: 0, fat: 2 },
      { name: "ì†Œê³ ê¸° ìš°ë‘”ì‚´", protein: 21, carbs: 0, fat: 6 },
      { name: "ì—°ì–´", protein: 20, carbs: 0, fat: 13 },
      { name: "ë¬´ì§€ë°© ê·¸ë¦­ìš”ê±°íŠ¸", protein: 10, carbs: 4, fat: 0 },
      { name: "ê³„ë€", protein: 12, carbs: 1, fat: 10 }
    ];

    const CARB_SOURCES = [
      { name: "í˜„ë¯¸ë°¥", protein: 3, carbs: 35, fat: 1 },
      { name: "í†µë°€ ë² ì´ê¸€", protein: 10, carbs: 45, fat: 1 },
      { name: "í†µë°€ íŒŒìŠ¤íƒ€", protein: 14, carbs: 70, fat: 2 },
      { name: "ì˜¤íŠ¸ë°€", protein: 13, carbs: 66, fat: 7 },
      { name: "ê³ êµ¬ë§ˆ", protein: 1.5, carbs: 30, fat: 0.1 },
      { name: "ê°ì", protein: 2, carbs: 20, fat: 0.1 }
    ];

    const FAT_SOURCES = [
      { name: "ë•…ì½©ë²„í„°", protein: 25, carbs: 20, fat: 50 },
      { name: "ì•„ëª¬ë“œë²„í„°", protein: 20, carbs: 20, fat: 55 },
      { name: "ê²¬ê³¼ë¥˜", protein: 15, carbs: 15, fat: 50 },
      { name: "ì•„ë³´ì¹´ë„", protein: 2, carbs: 8, fat: 15 }
    ];

    // ë¬´ì‘ìœ„ ì•„ì´í…œ ì„ íƒ
    function pickRandom(arr) {
      return arr[Math.floor(Math.random() * arr.length)];
    }

    function calculate() {
      const gender = document.getElementById("gender").value;
      const age = parseInt(document.getElementById("age").value);
      const height = parseFloat(document.getElementById("height").value);
      const weight = parseFloat(document.getElementById("weight").value);
      const activity = parseFloat(document.getElementById("activity").value);

      if (!age || !height || !weight) {
        alert("ë‚˜ì´, í‚¤, ì²´ì¤‘ì„ ëª¨ë‘ ì…ë ¥í•´ì£¼ì„¸ìš”.");
        return;
      }

      // ê¸°ì´ˆëŒ€ì‚¬ëŸ‰(BMR) ê³„ì‚°
      let bmr;
      if (gender === "male") {
        bmr = 66 + (13.7 * weight) + (5 * height) - (6.8 * age);
      } else {
        bmr = 655 + (9.6 * weight) + (1.8 * height) - (4.7 * age);
      }

      // ì¼ì¼ ì—ë„ˆì§€ ì†Œëª¨ëŸ‰(TDEE)
      const tdee = bmr * activity;

      // ì˜ˆì‹œ: í•œêµ­í˜• ìœ ì§€ ì¹¼ë¡œë¦¬(85%), ê°ëŸ‰ ì¹¼ë¡œë¦¬(ê·¸ì¤‘ 85%)
      const adjusted = tdee * 0.85;
      const cut = adjusted * 0.85;

      // ë§¤í¬ë¡œ ë¹„ìœ¨(ë‹¨30, íƒ„50, ì§€20)
      const macros = {
        proteinRatio: 0.3,
        carbRatio: 0.5,
        fatRatio: 0.2
      };

      // g ë‹¨ìœ„ í™˜ì‚° (ë‹¨Â·íƒ„=4kcal/g, ì§€ë°©=9kcal/g)
      const totalProtein = (cut * macros.proteinRatio) / 4;
      const totalCarbs   = (cut * macros.carbRatio)   / 4;
      const totalFats    = (cut * macros.fatRatio)    / 9;

      // ì˜ˆ: í•˜ë£¨ 4ë¼ â†’ 1ë¼ ê¶Œì¥ëŸ‰
      const mealProtein = (totalProtein / 4).toFixed(1);
      const mealCarbs   = (totalCarbs / 4).toFixed(1);
      const mealFats    = (totalFats / 4).toFixed(1);

      // ê²°ê³¼ ìš”ì•½
      let html = `
        <h2>ğŸ“Š ê²°ê³¼ ìš”ì•½</h2>
        <p><b>BMR:</b> ${bmr.toFixed(0)} kcal</p>
        <p><b>TDEE:</b> ${tdee.toFixed(0)} kcal</p>
        <p><b>ìœ ì§€ ì¹¼ë¡œë¦¬(ì˜ˆì‹œ):</b> ${adjusted.toFixed(0)} kcal</p>
        <p><b>ê°ëŸ‰ ì¹¼ë¡œë¦¬(ì˜ˆì‹œ):</b> ${cut.toFixed(0)} kcal</p>

        <h3>ğŸ½ 1ë¼ ê¶Œì¥ ì„­ì·¨ëŸ‰ (í•˜ë£¨ 4ë¼ ê¸°ì¤€)</h3>
        <p>ë‹¨ë°±ì§ˆ: ${mealProtein} g / íƒ„ìˆ˜í™”ë¬¼: ${mealCarbs} g / ì§€ë°©: ${mealFats} g</p>

        <h3>ğŸ¥© ë‹¨ë°±ì§ˆ ê¸‰ì› (ë³µí•© ì˜ì–‘ì†Œ í¬í•¨)</h3>
        <ul>
          ${PROTEIN_SOURCES.map(item => `
            <li>${item.name} (100g ê¸°ì¤€: ë‹¨ ${item.protein}g / íƒ„ ${item.carbs}g / ì§€ ${item.fat}g)</li>
          `).join("")}
        </ul>

        <h3>ğŸš íƒ„ìˆ˜í™”ë¬¼ ê¸‰ì› (ë³µí•© ì˜ì–‘ì†Œ í¬í•¨)</h3>
        <ul>
          ${CARB_SOURCES.map(item => `
            <li>${item.name} (100g ê¸°ì¤€: ë‹¨ ${item.protein}g / íƒ„ ${item.carbs}g / ì§€ ${item.fat}g)</li>
          `).join("")}
        </ul>

        <h3>ğŸ¥‘ ì§€ë°© ê¸‰ì› (ë³µí•© ì˜ì–‘ì†Œ í¬í•¨)</h3>
        <ul>
          ${FAT_SOURCES.map(item => `
            <li>${item.name} (100g ê¸°ì¤€: ë‹¨ ${item.protein}g / íƒ„ ${item.carbs}g / ì§€ ${item.fat}g)</li>
          `).join("")}
        </ul>
      `;

      // ë¬´ì‘ìœ„ ì‹ì¬ë£Œë¡œ 1ë¼ ì˜ˆì‹œ ì¡°í•©
      const mealProteinNeeded = parseFloat(mealProtein);
      const mealCarbsNeeded   = parseFloat(mealCarbs);
      const mealFatsNeeded    = parseFloat(mealFats);

      const randomProteinItem = pickRandom(PROTEIN_SOURCES);
      const randomCarbItem    = pickRandom(CARB_SOURCES);
      const randomFatItem     = pickRandom(FAT_SOURCES);

      // ë¬´ì²™ ë‹¨ìˆœí™”ëœ ì¤‘ëŸ‰ ê³„ì‚° (ë³µí•©ì˜ì–‘ì†Œ ìƒí˜¸ ê°„ì„­ ë¬´ì‹œ)
      const proteinItemAmount = (mealProteinNeeded / randomProteinItem.protein) * 100;
      const carbItemAmount    = (mealCarbsNeeded   / randomCarbItem.carbs)     * 100;
      const fatItemAmount     = (mealFatsNeeded    / randomFatItem.fat)        * 100;

      const exampleHtml = `
        <div class="example-meal">
          <h3>ğŸ½ 1ë¼ ì˜ˆì‹œ ì‹ë‹¨ ì¡°í•©</h3>
          <p><b>ë‹¨ë°±ì§ˆ ì‹í’ˆ:</b> ${randomProteinItem.name} 
             ì•½ <b>${proteinItemAmount.toFixed(0)}g</b> ì„­ì·¨</p>
          <p><b>íƒ„ìˆ˜í™”ë¬¼ ì‹í’ˆ:</b> ${randomCarbItem.name} 
             ì•½ <b>${carbItemAmount.toFixed(0)}g</b> ì„­ì·¨</p>
          <p><b>ì§€ë°© ì‹í’ˆ:</b> ${randomFatItem.name} 
             ì•½ <b>${fatItemAmount.toFixed(0)}g</b> ì„­ì·¨</p>
          <p style="margin-top:10px; font-size:14px; color:#555;">
            â€» ì‹¤ì œë¡œëŠ” ê° ì‹í’ˆì— ë‹¤ë¥¸ ì˜ì–‘ì†Œë„ ìˆì–´ ëª©í‘œì™€ ì˜¤ì°¨ê°€ ë‚  ìˆ˜ ìˆìŠµë‹ˆë‹¤.
          </p>
        </div>
      `;

      document.getElementById("result").innerHTML = html + exampleHtml;
    }
  </script>
</body>
</html>
